<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>상세 페이지</title>
    <div th:replace="~{common/header :: head}"></div>
</head>
<body>
    <div th:replace="~{common/header :: headerFragment}"></div>

    <div class="container" style="margin-top: 100px">
        <table class="table">
            <thead>
                <tr scope="col">
                    <th colspan="4">게시글 상세 화면</th>
                </tr>
            </thead>
            <tr>
                <th style="width:15%" class="table-active text-center">글 번호</th><td style="width:35%" th:text="${detail.boardId}"></td>
                <th style="width:15%" class="table-active text-center">조회수</th><td style="width:35%" th:text="${detail.viewCount}"></td>
            </tr>
            <tr>
                <th style="width:15%" class="table-active text-center">작성자</th><td style="width:35%" th:text="${detail.writer}"></td>
                <th style="width:15%" class="table-active text-center">작성일</th><td style="width:35%" th:text="${#temporals.format(detail.regDate, 'yyyy-MM-dd HH:mm')}"></td>
            </tr>
            <tr>
                <th style="width:15%" class="table-active text-center">제목</th><td th:text="${detail.title}"></td>
                <th style="width:15%" class="table-active text-center">수정일</th><td th:text="${#temporals.format(detail.updDate, 'yyyy-MM-dd HH:mm')}"></td>
            </tr>
            <tr>
                <td colspan="4" style="height:100%">
                    <!-- textarea 색상, 클릭, 수정, 크기 조절 불가-->
                    <textarea class="form-control" rows="20" style="border: none; resize: none; background-color:white" th:text="${detail.content}" disabled></textarea>
                </td>
            </tr>
        </table>
        <div class="form-group">
            <label for="file"><b>파일</b></label>
            <p id="file" th:if="${fileInfo} != null" th:each="fileInfo : ${fileInfo}"><a th:href="@{/board/fileDownload.do(fileId=${fileInfo.fileId})}" th:text="${fileInfo.originalName}"></a></p>
        </div>
        <if th:if="${fileInfo} == null">
            <div class="form-group">
                <label for="noFile"><b>파일</b></label>
                <p id="noFile">첨부파일 없음.</p>
            </div>
        </if>
        <if th:if="${session.user} != null and ${session.user.userId}==${detail.writer}">
            <a th:href="@{/board/modify.do(boardId=${detail.boardId})}" class="btn btn-primary" style="float: right">수정하기</a>
            <a th:href="@{/board/delete.do(boardId=${detail.boardId})}" class="btn btn-danger" style="float: right">삭제하기</a>
        </if>
        <button type="button" class="btn btn-secondary" onclick="location.href='list.do'">목록</button>
    </div>
</body>
</html>