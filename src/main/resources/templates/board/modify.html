<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<body>
<script type="text/javascript">
    function checkSize(input) {
        if (input.files && input.files[0].size > (10 * 1024 * 1024)) {
            alert("파일 사이즈가 10MB 를 넘습니다.");
            input.value = null;
        }
    }
</script>
    <div th:replace="~{common/header :: headerFragment}"></div>

    <div class="container" style="margin-top: 100px">
        <h2>글쓰기</h2>
        <form name="modify" id="modify" role="form" method="post" action="saveBoard.do" enctype="multipart/form-data"/>
            <table class="table table-borderless" >
                <input type="hidden" id="boardId" name="boardId" th:value="${board.boardId}"/>
                <if th:if="${fileInfo}!=null" th:each="fileInfo : ${fileInfo}">
                    <input type="hidden" id="fileId" name="fileId" th:value="${fileInfo.fileId}"/>
                </if>
                <tr><th>제목</th></tr>
                <tr><td width="90%"><input name="title" id="title" class="form-control" th:value="${board.title}" required="required" ></td></tr>
                <tr><th>내용</th></tr>
                <tr><td class="text-center"><textarea class="form-control" name="content" id="content" th:text="${board.content}" maxlength="1500" rows="20" required="required" style="resize: none; background-color:white">내용을 입력하세요.</textarea></td></tr>
                <tr>
                    <td>
                        <div class="input-group">
                            <div class="custom-file">
                                <label class="custom-file-label" for="file"><b>첨부 파일</b></label>
                                <input type="file" class="custom-file-input" name="file" id="file" multiple onchange="checkSize(this)">
                                <p th:if="${fileInfo} != null" th:each="fileInfo : ${fileInfo}" th:text="${fileInfo.originalName}"></p>
                            </div>
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="button">Button</button>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
            <div  class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="button" class="btn btn-secondary" onclick="location.href='list.do?'">목록</button>
                <button type="submit" class="btn btn-primary" onclick="location.href='saveBoard.do'">등록하기</button>
            </div>
        </form>
    </div>
</body>
</html>